<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Cipher-Image Encryption/Decryption Utility</title>
    <meta content="Encrypt/decrypt image rasters with AES" name="description"/>
    <meta content="Greg Sidal" name="author"/>
    <link rel="stylesheet" type="text/css" href="../ui.css">
    <script src="../lib/cryptojs/rollups/aes.js"></script>
    <script src="../lib/cipherimage/cipherimage.js"></script>
    <script src="cipherimage_ui.js"></script>
    <!--<script src="cipherimage_demoimg.js"></script>-->
    <script>
      CI.defaultname = "(open an image)";
      CI.defaulturl = "";
    </script>
  </head>
  <body onload="CI.setup('ci',CI.defaulturl,CI.defaultname);" id="ci_back">

    <div class="back" onclick="CI.clickback('ci');">
      <canvas id="ci_canv" width="900" height="800">
        <div class="title center">NO CANVAS SUPPORT IN BROWSER <br/>
                 Browser released after 2015 recommended (testing performed on Firefox and Chrome)</div>
      </canvas>
    </div>

    <div class="menubar" id="menubar">
      <div class="open" id="controlbtn" onclick="UI.toggle('menubar','controlpane')"></div>
    </div>

    <div class="titlebar" id="titlebar">
      <!--<div><div id="ci_title" class="tt titlesection big"></div></div>-->
      <div class="descr" id="ci_subtitle"></div>
    </div>

    <div class="panewrap"><div id="controlpane" class="controls"><div class="controlset">
      <div class="corner">
        <div class="close" id="controlbtn" onclick="UI.toggle('menubar','controlpane')"></div>
      </div>
      <div class="title">
        Cipher-Image Utility
      </div>
      <div class="descr">
        Encrypt/decrypt image raster with key (AES)
      </div>

      <div class="line gapabove g25">
        <div tabindex=1 class="nextsmall openfile" id="ci_openfile" onclick="CI.clickopen('ci')"></div>
        <input type="file" class="dispnone" accept="image/*" id="ci_file" onchange="CI.setsrc('ci',this.files[0]);"/>
        <div class="inlinestats" id="ci_stats"> (open an image)</div>
      </div>

    <div class="dispnone" id="ci_isimgopen">

      <div class="line gap">
        Key: <input class="inplong" id="ci_pass" value="key or password"></input>
      </div>
      <div class="line gap">
        <div class="nextsmall fwd" id="ci_encryptbtn" onclick="CI.encrypt('ci')">Encrypt</div>
        <div class="nextsmall dispnone rev" id="ci_decryptbtn" onclick="CI.decrypt('ci')">Decrypt</div>
        &nbsp; <div class="nextsmall unfold" id="ci_unfoldbtn"
                     onclick="UI.unfold('ci_unfoldbtn','ci_foldbtn','ci_foldpane')"></div>
        <div class="nextsmall dispnone fold" id="ci_foldbtn"
                     onclick="UI.fold('ci_unfoldbtn','ci_foldbtn','ci_foldpane')"></div>
      </div>

      <div class="gapabove g25 dispnone" id="ci_iscipherimg">
        <div class="inlinestats" id="ci_msg"></i>Image raster is cipher</i></div>
        <div class="nextsmall" id="ci_savebtn" onclick="CI.save('ci')">Save</div>
                 <a href="" download="cipherimage.png" class="dispnone" id="ci_save"></a>
      </div>

      <div id="ci_foldpane" class="dispnone gapabove g25">

        <div class="">
          <div class="descr i">
            Files open in browser (not uploaded).
            <br/>PNG files are saved to preserve intact ciphers.
            <br/>Saving JPEG not possible (lossy compression).
            <br/>Ciphers in PNGs are auto-recognized.
            <br/>Beta: Firefox/Chrome browsers tested.
          </div>
        </div>

        <div class="gapabove g25 line" id="ci_randpass">
          <div class="nextsmall rand" id="ci_randbtn" onclick="CI.randpass('ci')">Random key</div>
          &nbsp;(# bytes:<input class="inpshort inpbox" id="ci_randbytes" value="12"></input>)
        </div>

      </div>

    </div>

      <div class="gapabove g25">
        <div class="descr">
          2021 <a href="../index.html" class="link">Greg Sidal</a> cc-by-nc
          <br/><a href="cipherimage2021v060.html" download="cipherimage2021v060.html" 
                  class="link" target="_blank">Self-contained downloadable</a>
          <br/><a href="miner.html" class="link">Miner</a>
          <div id="ci_canvasdata" class="gap dispnone">
            <div class="nextsmall" onclick="CI.togglecanvasdata()">Toggle allow canvas data</div>
          </div>
        </div>
      </div>

    </div></div></div>
  </body>
</html>

